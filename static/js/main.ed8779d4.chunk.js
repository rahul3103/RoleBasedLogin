(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{203:function(e,n,t){e.exports=t(343)},343:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(17),l=t.n(o),c=t(24),i=t(122),s=t(23);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=function(e,n){return function(t){t(m(!0)),t(g(!1)),t(d(null)),f(e,n,function(e,n){t(m(!1)),n?t(d(n)):(t(g(!0)),t(p(e)))})}},m=function(e){return{type:"SET_LOGIN_PENDING",isLoginPending:e}},g=function(e){return{type:"SET_LOGIN_SUCCESS",isLoginSuccess:e}},d=function(e){return{type:"SET_LOGIN_ERROR",loginError:e}},p=function(e){return{type:"SET_USER",data:e}},E=function(){return localStorage.removeItem("name"),localStorage.removeItem("role"),function(e){e({type:"UNSET_USER"}),e(g(!1)),e(h("Welcome"))}},h=function(e){return{type:"UPDATE_GREET",greet:e}},f=function(e,n,t){fetch("https://demo2837922.mockable.io/user?id=".concat(e,"&&pass=").concat(n)).then(function(e){return e.json()}).then(function(e){localStorage.setItem("name",e.name),localStorage.setItem("role",e.role),t(e)}).catch(function(){return t({},"Invalid email and password")})},y={name:null,role:null},b=t(51),v={isLoginSuccess:!1,isLoginPending:!1,loginError:null},O=Object(c.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_USER":return{name:n.data.name,role:n.data.role};case"UNSET_USER":return y;default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_LOGIN_PENDING":return Object(b.a)({},e,{isLoginPending:n.isLoginPending});case"SET_LOGIN_SUCCESS":return Object(b.a)({},e,{isLoginSuccess:n.isLoginSuccess});case"SET_LOGIN_ERROR":return Object(b.a)({},e,{loginError:n.loginError});default:return e}},greet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Welcome",n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_GREET":return n.greet;default:return e}}}),w=t(29),S=t(30),k=t(32),j=t(31),C=t(33),L=t(348),U=t(347),T=function(e){return function(n){var t=function(t){function a(){var e,n;Object(w.a)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=Object(k.a)(this,(e=Object(j.a)(a)).call.apply(e,[this].concat(r)))).logOutUser=function(){var e=n.props,t=e.dispatch,a=e.history;t(E()),a.push("/")},n.welcome=function(e){(0,n.props.dispatch)(h(e))},n}return Object(C.a)(a,t),Object(S.a)(a,[{key:"render",value:function(){var t=this.props.user;return e.includes(t.role)?r.a.createElement(n,Object.assign({welcome:this.welcome,logOutUser:this.logOutUser},this.props)):r.a.createElement("h1",null,"Access Denied")}}]),a}(r.a.Component);return Object(s.b)(function(e){return{user:e.user,greet:e.greet}})(t)}},_=t(8),R=function(e){var n=e.welcome;return r.a.createElement(_.e,{item:!0,xs:12,md:9,lg:6,style:{margin:"0 auto",paddingTop:10}},r.a.createElement("h3",null,"Greet in different ways"),r.a.createElement(_.a,{style:{backgroundColor:"grey",marginRight:10},onClick:function(){return n("Wadakam")}},"Wadakam"),r.a.createElement(_.a,{style:{backgroundColor:"grey",marginRight:10},onClick:function(){return n("Welcome")}},"Welcome"),r.a.createElement(_.a,{style:{backgroundColor:"grey",marginRight:10},onClick:function(){return n("Namaskar")}},"Namaskar"))},I=function(e){var n=e.logOutUser,t=e.user,a=e.welcome,o=e.greet;return r.a.createElement(_.e,{container:!0,style:{marginTop:"10%",textAlign:"center"}},r.a.createElement(_.e,{item:!0,xs:12,md:9,lg:6,style:{margin:"0 auto"}},r.a.createElement("h2",null,t.role),r.a.createElement("h3",null,o," ",t.name),r.a.createElement(_.a,{style:{backgroundColor:"grey"},onClick:n},"Logout"),r.a.createElement(R,{welcome:a})))},N=function(e){var n=e.logOutUser,t=e.user,a=e.welcome,o=e.greet;return r.a.createElement(_.e,{container:!0,style:{marginTop:"10%",textAlign:"center"}},r.a.createElement(_.e,{item:!0,xs:12,md:9,lg:6,style:{margin:"0 auto"}},r.a.createElement("h2",null,t.role),r.a.createElement("h3",null,o," ",t.name),r.a.createElement(_.a,{style:{backgroundColor:"grey"},onClick:n},"Logout"),r.a.createElement(R,{welcome:a})))},P=function(e){var n=e.logOutUser,t=e.user,a=e.welcome,o=e.greet;return r.a.createElement(_.e,{container:!0,style:{marginTop:"10%",textAlign:"center"}},r.a.createElement(_.e,{item:!0,xs:12,md:9,lg:6,style:{margin:"0 auto"}},r.a.createElement("h2",null,t.role),r.a.createElement("h3",null,o," ",t.name),r.a.createElement(_.a,{style:{backgroundColor:"grey"},onClick:n},"Logout"),r.a.createElement(R,{welcome:a})))},x=t(49),G=t(346),A={span:{display:"inline-block"}},W=function(e){function n(){var e,t;Object(w.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(t=Object(k.a)(this,(e=Object(j.a)(n)).call.apply(e,[this].concat(o)))).state={username:"",password:""},t.handleChange=function(e){return function(n){t.setState(Object(x.a)({},e,n.target.value))}},t.submit=function(){var e=t.state,n=e.username,a=e.password;(0,t.props.dispatch)(u(n,a))},t.renderLoginComp=function(){return r.a.createElement("div",null,r.a.createElement(_.f,{label:"User Name",value:t.state.username,onChange:t.handleChange("username"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(_.f,{label:"Password",value:t.state.password,onChange:t.handleChange("password"),margin:"normal"}),r.a.createElement("br",null),r.a.createElement(_.a,{style:{backgroundColor:"grey"},onClick:t.submit},"Login"),r.a.createElement("br",null),r.a.createElement("div",{style:{color:"red"}},t.props.loginError),r.a.createElement(_.b,{style:{marginTop:20}},r.a.createElement(_.c,null,r.a.createElement(_.g,{variant:"h5",component:"h2"},"Rolse"),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",null,r.a.createElement("span",{style:A.span},"Username: admin"),r.a.createElement("span",{style:A.span},"Password: admin")),r.a.createElement("div",null,r.a.createElement("span",{style:A.span},"Username: manager"),r.a.createElement("span",{style:A.span},"Password: manager")),r.a.createElement("div",null,r.a.createElement("span",{style:A.span},"Username: agent"),r.a.createElement("span",{style:A.span},"Password: agent"))))))},t}return Object(C.a)(n,e),Object(S.a)(n,[{key:"componentDidUpdate",value:function(){var e=this.props,n=e.history,t=e.user;e.isLoginSuccess&&t.role&&n.push("/".concat(t.role))}},{key:"render",value:function(){return r.a.createElement(_.e,{container:!0,style:{marginTop:"10%",textAlign:"center"}},r.a.createElement(_.e,{item:!0,xs:12,md:9,lg:6,style:{margin:"0 auto"}},this.props.isLoginPending?r.a.createElement(_.d,null):this.renderLoginComp()))}}]),n}(r.a.Component),D=Object(G.a)(Object(s.b)(function(e){return{isLoginPending:e.login.isLoginPending,isLoginSuccess:e.login.isLoginSuccess,loginError:e.login.loginError,user:e.user}})(W)),B=T(["agent"]),J=T(["manager"]),M=T(["admin"]),$=function(e){function n(){return Object(w.a)(this,n),Object(k.a)(this,Object(j.a)(n).apply(this,arguments))}return Object(C.a)(n,e),Object(S.a)(n,[{key:"componentDidMount",value:function(){this.props.dispatch(function(){var e={name:localStorage.getItem("name"),role:localStorage.getItem("role")};return e.name&&e.role?function(n){n(p(e)),n(g(!0))}:function(e){e(E())}}())}},{key:"render",value:function(){return r.a.createElement(L.a,{basename:"/RoleBasedLogin"},r.a.createElement("div",null,r.a.createElement(U.a,{exact:!0,path:"/",component:D}),r.a.createElement(U.a,{path:"/agent",component:B(I)}),r.a.createElement(U.a,{path:"/manager",component:J(N)}),r.a.createElement(U.a,{path:"/admin",component:M(P)})))}}]),n}(r.a.Component),q=Object(s.b)()($),z=Object(c.d)(O,{},Object(c.a)(i.a));l.a.render(r.a.createElement(s.a,{store:z},r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[203,2,1]]]);
//# sourceMappingURL=main.ed8779d4.chunk.js.map